[JP](https://github.com/shu-rt/shu-poyo/) | [ENG](https://github.com/shu-rt/shu-poyo/blob/main/README.en.md)

# shu-poyo
This repository is to manage the programs and blue prints regarding my original micromouse.
It is a work in progress (since 2021/04). I hope that this will complete within a year.

# Machine Specifications
## Development Computer
MacBook Pro (13-in, 2019), macOS Catalina 10.15.6  
Processor: 1.4 GHz Quad-Core Intel Core i5  

## Micromouse
CPU: STM32?  
Sensors: Light sensor, push button, IMU  
Motor: ?  
Motor Driver: ?  

## Softwares
|Tool |Name |Version |
|----|----|----|
|Computer |macOS Catalina| 10.15.6|
|Editor |VS Code| 1.54.3|
|Package Manager |Homebrew| 2.4.16|
|Flash write |Open-OCD |0.11.0 |
|Code Generator |STM32CubeMX |6.2.1 |
|GNU Tools |arm-none-eabi-gcc |9.2.1 |

### Install
#### macOS

Download VS Code from [here](https://code.visualstudio.com/download)  
It may be good to download extensions such as **C/C++** and **Code Debugger**  

Install Homebrew from its [official web page](https://brew.sh/)  
Install GNU Tools
```sh
$ brew tap ArmMbed/homebrew-formulae
$ brew install arm-none-eabi-gcc
```

Install Open-OCD
```sh
$ brew install open-ocd
```

Download STM32CubeMX from [here](https://www.st.com/ja/development-tools/stm32cubemx.html)  
Open the setup wizard, `SetupSTM32CubeMX-X.X.X.app` to install STM32CubeMX  
If nothing starts,   
```sh
(Directory where the .app file is)$ sudo xattr -cr ./SetupSTM32CubeMX-6.2.1.app 
```

### Flash write!
#### Blue Pill　(STM32F103C8T6)
Connect SWCLK, SWDIO, GND, and 3.3V of the Blue Pill and ST-Link V2 via wires.  
Connect ST-Link V2 to your PC. The last half of the command below includes the path the the `.elf` file with the flash_elf command. Change the path to match your environment.
```sh
(openocd.cfgがあるデイレクトリで)$ openocd -f ./openocd.cfg -c "flash_elf path/to/XXX.elf"
```

# Directories
## circuits
Includes the circuit diagrams for my micromouse.

## hardware
Includes the hardware information for my micromouse.

## software
Includes the softwares that I wrote.  
Some of the program may need to be added sepeartely. 

# LICENSE
This repository is published under the **MIT LICENSE**.
View the [LICENSE](https://github.com/shu-rt/shu-poyo/blob/main/LICENSE) for more information.

The "software" directory includes codes generated by STM32CubeMX.  
Those codes will follow the licenses that is mentioned in each file.